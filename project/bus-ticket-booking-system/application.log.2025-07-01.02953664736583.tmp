2025-07-01 11:26:23 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 3175 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 11:26:23 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 11:26:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 11:26:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 11:26:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 11:26:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 11:26:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 11:26:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1255 ms
2025-07-01 11:26:24 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 11:26:24 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 11:26:25 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:26:25.030927
2025-07-01 11:26:25 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:26:25.032529. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@d45de27
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 11:26:25 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:26:25.157096
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 11:26:25 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:26:25.289697. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 11:26:25 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 11:26:25 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 11:26:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 11:26:25 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 2.049 seconds (process running for 2.962)
2025-07-01 11:26:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 11:26:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 3202 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 11:26:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 11:26:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 11:26:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 11:26:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 11:26:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 11:26:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 517 ms
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:26:31.713896
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:26:31.715329. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@460771ab
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:26:31.788264
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 11:26:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:26:31.926163. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 11:26:31 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 11:26:32 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 11:26:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 11:26:32 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.185 seconds (process running for 1.518)
2025-07-01 11:26:41 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 11:26:41 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@45e3292d
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6ea61712
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 11:26:41 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-01 11:26:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/stats
2025-07-01 11:26:41 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T11:26:41.630629
2025-07-01 11:26:41 [http-nio-8080-exec-2] ERROR c.t.b.aspect.LoggingAspect - User 'anonymous' encountered an error in 'JwtUtils.parseClaims(..)' at 2025-07-01T11:26:41.671343. Exception: JWT expired at 2025-06-30T12:56:04Z. Current time: 2025-07-01T05:26:41Z, a difference of 59437670 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-07-01 11:26:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-01 11:26:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 11:26:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-01 11:26:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-07-01 11:26:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#login(User)
2025-07-01 11:26:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@172e6ecb]
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.login(..)' at 2025-07-01T11:26:47.041407
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.login(..)' at 2025-07-01T11:26:47.041603
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.findByEmail(..)' at 2025-07-01T11:26:47.042073
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4237d56
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'UserRepository.findByEmail(..)' at 2025-07-01T11:26:47.414644. Returned: Optional[com.ticketbooking.bus_ticket_booking_system.model.User@5b8049e4]
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'JwtUtils.generateToken(..)' at 2025-07-01T11:26:47.501844
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'JwtUtils.generateToken(..)' at 2025-07-01T11:26:47.511727. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM0NzYwNywiZXhwIjoxNzUxMzUxMjA3fQ.6wu44h8WtZJCf96MbPrJxuLo3khy9HrLFPo0S4HruS3V5_kxYoOYeKrdybHPn4Lccypgj9QM7b0L7FYgZP9HWw
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthService.login(..)' at 2025-07-01T11:26:47.511834. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM0NzYwNywiZXhwIjoxNzUxMzUxMjA3fQ.6wu44h8WtZJCf96MbPrJxuLo3khy9HrLFPo0S4HruS3V5_kxYoOYeKrdybHPn4Lccypgj9QM7b0L7FYgZP9HWw
2025-07-01 11:26:47 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthController.login(..)' at 2025-07-01T11:26:47.511883. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM0NzYwNywiZXhwIjoxNzUxMzUxMjA3fQ.6wu44h8WtZJCf96MbPrJxuLo3khy9HrLFPo0S4HruS3V5_kxYoOYeKrdybHPn4Lccypgj9QM7b0L7FYgZP9HWw
2025-07-01 11:26:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-01 11:26:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing ["eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM0NzY (truncated)..."]
2025-07-01 11:26:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/stats
2025-07-01 11:27:02 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T11:27:02.025256
2025-07-01 11:27:02 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'JwtUtils.parseClaims(..)' at 2025-07-01T11:27:02.035468. Returned: {sub=fahim@gmail.com, role=ROLE_ADMIN, iat=1751347607, exp=1751351207}
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/stats
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/stats", parameters={}
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AdminController#getStats()
2025-07-01 11:27:02 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'AdminController.getStats()' at 2025-07-01T11:27:02.044992
2025-07-01 11:27:02 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'AdminController.getStats()' at 2025-07-01T11:27:02.045253. Returned: Admin stats page
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing ["Admin stats page"]
2025-07-01 11:27:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 11:51:24 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 11:51:24 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 11:51:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-01 11:51:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-01 11:51:26 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 8572 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 11:51:26 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 11:51:26 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 11:51:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 11:51:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 11:51:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 11:51:26 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 11:51:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 492 ms
2025-07-01 11:51:26 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 11:51:26 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 11:51:27 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:51:27.066468
2025-07-01 11:51:27 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T11:51:27.067613. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@266948c6
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 11:51:27 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:51:27.134059
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 11:51:27 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T11:51:27.241398. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 11:51:27 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 11:51:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 11:51:27 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 11:51:27 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.121 seconds (process running for 1.675)
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@12ae817a
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2cb0d587
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/stats
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T11:51:36.198181
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'JwtUtils.parseClaims(..)' at 2025-07-01T11:51:36.233274. Returned: {sub=fahim@gmail.com, role=ROLE_ADMIN, iat=1751347607, exp=1751351207}
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/stats
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/stats", parameters={}
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AdminController#getStats()
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'AdminController.getStats()' at 2025-07-01T11:51:36.247826
2025-07-01 11:51:36 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'AdminController.getStats()' at 2025-07-01T11:51:36.250120. Returned: <200 OK OK,{message=Admin stats page},[]>
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Admin stats page}]
2025-07-01 11:51:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 12:26:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 12:26:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 12:26:50 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 15723 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 12:26:50 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 12:26:50 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 12:26:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 12:26:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 12:26:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 12:26:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 12:26:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 678 ms
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 12:26:51 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:26:51.350216
2025-07-01 12:26:51 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:26:51.351317. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@7b9b606c
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 12:26:51 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:26:51.415121
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 12:26:51 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:26:51.516674. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 12:26:51 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 12:26:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 12:26:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 12:26:51 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.341 seconds (process running for 1.698)
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@350e5b4f
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2b6666b3
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#login(User)
2025-07-01 12:27:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@4404e3ba]
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.login(..)' at 2025-07-01T12:27:06.640373
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.login(..)' at 2025-07-01T12:27:06.640546
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.findByEmail(..)' at 2025-07-01T12:27:06.640969
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2643543a
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-01 12:27:06 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'UserRepository.findByEmail(..)' at 2025-07-01T12:27:06.980826. Returned: Optional[com.ticketbooking.bus_ticket_booking_system.model.User@4d879d04]
2025-07-01 12:27:07 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'JwtUtils.generateToken(..)' at 2025-07-01T12:27:07.069429
2025-07-01 12:27:07 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'JwtUtils.generateToken(..)' at 2025-07-01T12:27:07.082584. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTIyNywiZXhwIjoxNzUxMzU0ODI3fQ.UeGb4q_ZTc0yFH2C6kb-g_-9dTXolQlkMIyFh_cAdxorn-dsWHuEYez6yqjUNnWy012piP-sPQ2ld_bvwGWNFg
2025-07-01 12:27:07 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthService.login(..)' at 2025-07-01T12:27:07.082712. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTIyNywiZXhwIjoxNzUxMzU0ODI3fQ.UeGb4q_ZTc0yFH2C6kb-g_-9dTXolQlkMIyFh_cAdxorn-dsWHuEYez6yqjUNnWy012piP-sPQ2ld_bvwGWNFg
2025-07-01 12:27:07 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthController.login(..)' at 2025-07-01T12:27:07.083278. Returned: <200 OK OK,{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTIyNywiZXhwIjoxNzUxMzU0ODI3fQ.UeGb4q_ZTc0yFH2C6kb-g_-9dTXolQlkMIyFh_cAdxorn-dsWHuEYez6yqjUNnWy012piP-sPQ2ld_bvwGWNFg},[]>
2025-07-01 12:27:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 12:27:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1 (truncated)...]
2025-07-01 12:27:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 12:27:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/stats
2025-07-01 12:27:26 [http-nio-8080-exec-3] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:27:26.078138
2025-07-01 12:27:26 [http-nio-8080-exec-3] ERROR c.t.b.aspect.LoggingAspect - User 'anonymous' encountered an error in 'JwtUtils.parseClaims(..)' at 2025-07-01T12:27:26.107725. Exception: JWT expired at 2025-07-01T06:26:47Z. Current time: 2025-07-01T06:27:26Z, a difference of 39106 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#login(User)
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@75af17a2]
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.login(..)' at 2025-07-01T12:27:37.385547
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.login(..)' at 2025-07-01T12:27:37.385858
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.findByEmail(..)' at 2025-07-01T12:27:37.386046
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'UserRepository.findByEmail(..)' at 2025-07-01T12:27:37.392160. Returned: Optional[com.ticketbooking.bus_ticket_booking_system.model.User@7f577cd2]
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'JwtUtils.generateToken(..)' at 2025-07-01T12:27:37.508990
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'JwtUtils.generateToken(..)' at 2025-07-01T12:27:37.514639. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTI1NywiZXhwIjoxNzUxMzU0ODU3fQ.rGqXyeMxa33SM7V6Ds9DqGGtpFbivZAgnCvEL055q3Gwzv3QVhodHUiHkyc65YN7YvEgzQpIcesh1QsNBD0yaw
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthService.login(..)' at 2025-07-01T12:27:37.514786. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTI1NywiZXhwIjoxNzUxMzU0ODU3fQ.rGqXyeMxa33SM7V6Ds9DqGGtpFbivZAgnCvEL055q3Gwzv3QVhodHUiHkyc65YN7YvEgzQpIcesh1QsNBD0yaw
2025-07-01 12:27:37 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthController.login(..)' at 2025-07-01T12:27:37.514872. Returned: <200 OK OK,{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM1MTI1NywiZXhwIjoxNzUxMzU0ODU3fQ.rGqXyeMxa33SM7V6Ds9DqGGtpFbivZAgnCvEL055q3Gwzv3QVhodHUiHkyc65YN7YvEgzQpIcesh1QsNBD0yaw},[]>
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1 (truncated)...]
2025-07-01 12:27:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 12:31:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 12:31:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 12:31:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-01 12:31:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-01 12:31:07 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 16842 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 12:31:07 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 12:31:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 12:31:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 12:31:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 12:31:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 12:31:07 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 12:31:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 524 ms
2025-07-01 12:31:07 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 12:31:07 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 12:31:07 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:31:07.799807
2025-07-01 12:31:07 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:31:07.800940. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@266948c6
2025-07-01 12:31:07 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 12:31:07 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:31:07.866358
2025-07-01 12:31:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 12:31:08 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 12:31:08 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 12:31:08 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:31:08.052953. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 12:31:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 12:31:08 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 12:31:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 12:31:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 12:31:08 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.245 seconds (process running for 1.574)
2025-07-01 12:31:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 12:31:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1eb56474
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d03279d
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 12:31:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-07-01 12:31:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/stats
2025-07-01 12:31:48 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:31:48.296909
2025-07-01 12:31:48 [http-nio-8080-exec-1] ERROR c.t.b.aspect.LoggingAspect - User 'anonymous' encountered an error in 'JwtUtils.parseClaims(..)' at 2025-07-01T12:31:48.332907. Exception: JWT expired at 2025-06-29T13:16:31Z. Current time: 2025-07-01T06:31:48Z, a difference of 148517332 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-07-01 12:32:28 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 12:32:28 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 12:32:30 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 17185 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 12:32:30 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 12:32:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 12:32:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 12:32:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 12:32:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 12:32:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 12:32:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 578 ms
2025-07-01 12:32:30 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 12:32:30 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 12:32:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:32:31.008641
2025-07-01 12:32:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T12:32:31.009938. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@34c5b4c8
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 12:32:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:32:31.077922
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 12:32:31 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T12:32:31.185876. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 12:32:31 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 12:32:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 12:32:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 12:32:31 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.211 seconds (process running for 1.519)
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@682668b2
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e863319
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/stats
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:32:45.428234
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:32:45.460564. Returned: {sub=fahim@gmail.com, role=ROLE_ADMIN, iat=1751351257, exp=1751354857}
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/stats
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/admin/stats", parameters={}
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect#handleGenericException(Exception, WebRequest)
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'ExceptionHandlerAspect.handleGenericException(..)' at 2025-07-01T12:32:45.467427
2025-07-01 12:32:45 [http-nio-8080-exec-1] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'ExceptionHandlerAspect.handleGenericException(..)' at 2025-07-01T12:32:45.469243. Returned: <500 INTERNAL_SERVER_ERROR Internal Server Error,com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect$ErrorResponse@45091a9a,[]>
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect$ErrorResponse@45091a9a]
2025-07-01 12:32:45 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-07-01 12:32:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/bus/add
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:32:59.239584
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'JwtUtils.parseClaims(..)' at 2025-07-01T12:32:59.241986. Returned: {sub=fahim@gmail.com, role=ROLE_ADMIN, iat=1751351257, exp=1751354857}
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/bus/add
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/admin/bus/add", parameters={}
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.BusController#addBus(Bus)
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.Bus@3658264d]
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusController.addBus(..)' at 2025-07-01T12:32:59.383321
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@bb4b438
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusService.addBus(..)' at 2025-07-01T12:32:59.637277
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusCompanyRepository.findByName(..)' at 2025-07-01T12:32:59.637757
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusCompanyRepository.findByName(..)' at 2025-07-01T12:32:59.673577. Returned: Optional.empty
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusCompanyRepository.save(..)' at 2025-07-01T12:32:59.673838
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusCompanyRepository.save(..)' at 2025-07-01T12:32:59.681064. Returned: 1
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusRepository.save(..)' at 2025-07-01T12:32:59.681309
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusRepository.save(..)' at 2025-07-01T12:32:59.684861. Returned: 1
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'RouteRepository.findByName(..)' at 2025-07-01T12:32:59.685017
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'RouteRepository.findByName(..)' at 2025-07-01T12:32:59.686034. Returned: Optional.empty
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'RouteRepository.save(..)' at 2025-07-01T12:32:59.686154
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'RouteRepository.save(..)' at 2025-07-01T12:32:59.687203. Returned: 1
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusRepository.saveBusRouteMapping(..)' at 2025-07-01T12:32:59.687312
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusRepository.saveBusRouteMapping(..)' at 2025-07-01T12:32:59.688632. Returned: null
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'RouteRepository.findByName(..)' at 2025-07-01T12:32:59.688713
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'RouteRepository.findByName(..)' at 2025-07-01T12:32:59.689256. Returned: Optional.empty
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'RouteRepository.save(..)' at 2025-07-01T12:32:59.689328
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'RouteRepository.save(..)' at 2025-07-01T12:32:59.690101. Returned: 2
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' accessed 'BusRepository.saveBusRouteMapping(..)' at 2025-07-01T12:32:59.690195
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusRepository.saveBusRouteMapping(..)' at 2025-07-01T12:32:59.690741. Returned: null
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusService.addBus(..)' at 2025-07-01T12:32:59.690810. Returned: null
2025-07-01 12:32:59 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'fahim@gmail.com' successfully executed 'BusController.addBus(..)' at 2025-07-01T12:32:59.697781. Returned: <200 OK OK,{message=Bus added successfully!},[]>
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Bus added successfully!}]
2025-07-01 12:32:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 13:01:58 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s251ms).
2025-07-01 13:14:50 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m21s859ms).
2025-07-01 13:18:11 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m21s864ms).
2025-07-01 13:37:50 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m8s145ms).
2025-07-01 13:48:57 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m6s894ms).
2025-07-01 14:13:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 14:13:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 14:13:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-01 14:13:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-01 14:33:15 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 37690 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 14:33:15 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 14:33:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 14:33:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 14:33:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 14:33:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 14:33:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 14:33:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 688 ms
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 14:33:16 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T14:33:16.504285
2025-07-01 14:33:16 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T14:33:16.505432. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@46703c42
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 14:33:16 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T14:33:16.581438
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 14:33:16 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T14:33:16.698298. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 14:33:16 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 14:33:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 14:33:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 14:33:16 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.334 seconds (process running for 1.698)
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@234c49ae
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2640c1eb
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#signup(User)
2025-07-01 14:33:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@6593fb8e]
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.signup(..)' at 2025-07-01T14:33:22.698182
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.signup(..)' at 2025-07-01T14:33:22.698926
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.save(..)' at 2025-07-01T14:33:22.857120
2025-07-01 14:33:22 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-01 14:33:23 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1aac6ca4
2025-07-01 14:33:23 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-01 14:33:24 [http-nio-8080-exec-2] ERROR c.t.b.aspect.LoggingAspect - User 'anonymousUser' encountered an error in 'UserRepository.save(..)' at 2025-07-01T14:33:24.078715. Exception: PreparedStatementCallback; SQL [INSERT INTO users (name, email, password, role) VALUES (?, ?, ?, ?)]; Duplicate entry 'fahim@gmail.com' for key 'users.email'
2025-07-01 14:33:24 [http-nio-8080-exec-2] ERROR c.t.b.aspect.LoggingAspect - User 'anonymousUser' encountered an error in 'AuthService.signup(..)' at 2025-07-01T14:33:24.079025. Exception: PreparedStatementCallback; SQL [INSERT INTO users (name, email, password, role) VALUES (?, ?, ?, ?)]; Duplicate entry 'fahim@gmail.com' for key 'users.email'
2025-07-01 14:33:24 [http-nio-8080-exec-2] ERROR c.t.b.aspect.LoggingAspect - User 'anonymousUser' encountered an error in 'AuthController.signup(..)' at 2025-07-01T14:33:24.079129. Exception: PreparedStatementCallback; SQL [INSERT INTO users (name, email, password, role) VALUES (?, ?, ?, ?)]; Duplicate entry 'fahim@gmail.com' for key 'users.email'
2025-07-01 14:33:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect#handleRuntimeException(RuntimeException, WebRequest)
2025-07-01 14:33:24 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'ExceptionHandlerAspect.handleRuntimeException(..)' at 2025-07-01T14:33:24.081748
2025-07-01 14:33:24 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'ExceptionHandlerAspect.handleRuntimeException(..)' at 2025-07-01T14:33:24.082367. Returned: <400 BAD_REQUEST Bad Request,com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect$ErrorResponse@64e13f1f,[]>
2025-07-01 14:33:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 14:33:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.ticketbooking.bus_ticket_booking_system.aspect.ExceptionHandlerAspect$ErrorResponse@64e13f1f]
2025-07-01 14:33:24 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO users (name, email, password, role) VALUES (?, ?, ?, ?)]; Duplicate entry 'fahim@gmail.com' for key 'users.email']
2025-07-01 14:33:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/signup
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/signup
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/signup", parameters={}
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#signup(User)
2025-07-01 14:33:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@40fbe74f]
2025-07-01 14:33:41 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.signup(..)' at 2025-07-01T14:33:41.815095
2025-07-01 14:33:41 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.signup(..)' at 2025-07-01T14:33:41.815453
2025-07-01 14:33:41 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.save(..)' at 2025-07-01T14:33:41.926072
2025-07-01 14:33:41 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'UserRepository.save(..)' at 2025-07-01T14:33:41.944129. Returned: null
2025-07-01 14:33:41 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'EmailService.sendSimpleEmail(..)' at 2025-07-01T14:33:41.944550
2025-07-01 14:33:42 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'EmailService.sendSimpleEmail(..)' at 2025-07-01T14:33:42.027776. Returned: null
2025-07-01 14:33:42 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthService.signup(..)' at 2025-07-01T14:33:42.028188. Returned: null
2025-07-01 14:33:42 [http-nio-8080-exec-4] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthController.signup(..)' at 2025-07-01T14:33:42.029205. Returned: <200 OK OK,{message=User registered successfully.},[]>
2025-07-01 14:33:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 14:33:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=User registered successfully.}]
2025-07-01 14:33:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 14:35:18 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01 14:35:18 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 14:35:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 14:35:18 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-01 14:35:18 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-01 14:35:18 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 37690 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 14:35:18 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 14:35:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 14:35:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 14:35:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 14:35:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 14:35:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 121 ms
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 14:35:19 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T14:35:19.097126
2025-07-01 14:35:19 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T14:35:19.097543. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@5d9f7656
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 14:35:19 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T14:35:19.135962
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 14:35:19 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T14:35:19.202075. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 14:35:19 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 14:35:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 14:35:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 14:35:19 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 0.359 seconds (process running for 124.13)
2025-07-01 14:35:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-01 15:51:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 15:51:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 15:51:10 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Starting BusTicketBookingSystemApplication using Java 23.0.1 with PID 61697 (/Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system/target/classes started by dptdev07 in /Users/dptdev07/IdeaProjects/apwj_final/project/bus-ticket-booking-system)
2025-07-01 15:51:10 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-01 15:51:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01 15:51:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-01 15:51:11 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-01 15:51:11 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01 15:51:11 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-01 15:51:11 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 602 ms
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping filters: springSecurityFilterChain urls=[/*] order=-100, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.b.w.s.ServletContextInitializerBeans - Mapping servlets: dispatcherServlet urls=[/]
2025-07-01 15:51:11 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.passwordEncoder()' at 2025-07-01T15:51:11.285221
2025-07-01 15:51:11 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.passwordEncoder()' at 2025-07-01T15:51:11.286302. Returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@ca0950d
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-07-01 15:51:11 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' accessed 'SecurityConfig.filterChain(..)' at 2025-07-01T15:51:11.359852
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 6 mappings in 'requestMappingHandlerMapping'
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-07-01 15:51:11 [restartedMain] INFO  c.t.b.aspect.LoggingAspect - User 'anonymous' successfully executed 'SecurityConfig.filterChain(..)' at 2025-07-01T15:51:11.532503. Returned: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-01 15:51:11 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-01 15:51:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-01 15:51:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-01 15:51:11 [restartedMain] INFO  c.t.b.BusTicketBookingSystemApplication - Started BusTicketBookingSystemApplication in 1.298 seconds (process running for 1.765)
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a733716
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ab0b60b
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.ticketbooking.bus_ticket_booking_system.controller.AuthController#login(User)
2025-07-01 15:51:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.ticketbooking.bus_ticket_booking_system.model.User@6b9ae7ed]
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthController.login(..)' at 2025-07-01T15:51:20.488912
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'AuthService.login(..)' at 2025-07-01T15:51:20.489109
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'UserRepository.findByEmail(..)' at 2025-07-01T15:51:20.489549
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ad55864
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-01 15:51:20 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'UserRepository.findByEmail(..)' at 2025-07-01T15:51:20.919183. Returned: Optional[com.ticketbooking.bus_ticket_booking_system.model.User@5afe231b]
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'EmailService.sendSimpleEmail(..)' at 2025-07-01T15:51:21.007764
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'EmailService.sendSimpleEmail(..)' at 2025-07-01T15:51:21.069495. Returned: null
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' accessed 'JwtUtils.generateToken(..)' at 2025-07-01T15:51:21.069806
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'JwtUtils.generateToken(..)' at 2025-07-01T15:51:21.083347. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM2MzQ4MSwiZXhwIjoxNzUxMzY3MDgxfQ.ckStbrho3fB9LtKH4_8zRcfJYgmLLZjjSo8RgjYPYQz8599BBrqFNlMD3DjCarOlwjFq3UFnTSynudHSJhzLQw
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthService.login(..)' at 2025-07-01T15:51:21.083540. Returned: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM2MzQ4MSwiZXhwIjoxNzUxMzY3MDgxfQ.ckStbrho3fB9LtKH4_8zRcfJYgmLLZjjSo8RgjYPYQz8599BBrqFNlMD3DjCarOlwjFq3UFnTSynudHSJhzLQw
2025-07-01 15:51:21 [http-nio-8080-exec-2] INFO  c.t.b.aspect.LoggingAspect - User 'anonymousUser' successfully executed 'AuthController.login(..)' at 2025-07-01T15:51:21.084294. Returned: <200 OK OK,{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1MTM2MzQ4MSwiZXhwIjoxNzUxMzY3MDgxfQ.ckStbrho3fB9LtKH4_8zRcfJYgmLLZjjSo8RgjYPYQz8599BBrqFNlMD3DjCarOlwjFq3UFnTSynudHSJhzLQw},[]>
2025-07-01 15:51:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-01 15:51:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJmYWhpbUBnbWFpbC5jb20iLCJyb2xlIjoiUk9MRV9BRE1JTiIsImlhdCI6MTc1 (truncated)...]
2025-07-01 15:51:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-01 16:34:19 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s218ms).
2025-07-01 16:51:07 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m48s181ms).
2025-07-01 16:54:11 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m3s969ms).
2025-07-01 17:03:06 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m24s247ms).
2025-07-01 19:01:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01 19:01:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-07-01 19:01:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-01 19:01:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
